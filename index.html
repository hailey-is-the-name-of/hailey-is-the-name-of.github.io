<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>♥대구시당 알리미♥</title>
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      padding: 30px;
      max-width: 800px;
      margin: 0 auto;
      color: #333;
    }
    h1 {
      font-size: clamp(1.2rem, 4vw, 2rem); /* 최소 1.5rem, 최대 2rem, 중간 뷰포트에선 8vw */
      text-align: center;
      margin-bottom: 30px;
      white-space: nowrap;               /* 줄 바꿈 금지 */
      overflow: hidden;                  /* 넘치는 텍스트 숨기기 */
      text-overflow: ellipsis;           /* 너무 길면 ... 처리 (선택) */
    }

    .heart {
      color: #015DA9;
      margin-right: 8px;
    }
    /* 일정 섹션 */
    .schedule {
      background: #f5faff;
      border-left: 4px solid #015DA9;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 40px;
    }
    /* 리본 배지 스타일 */

 /* 리본 배지 스타일 */
.schedule-header {
  position: relative;
  display: inline-block;
  background: #015DA9;
  color: #fff;
  padding: 6px 16px;
  font-size: 1.1rem;
  font-weight: bold;
  border-radius: 4px;
  text-transform: uppercase;
  margin: 0 auto 12px;
  text-align: center;
    display: block;          /* block 처리 */
  margin: 0 auto 8px;      /* 아래 여백 조정 */

}

    .schedule-header::before,
    .schedule-header::after {
      content: "";
      position: absolute;
      bottom: -8px;
      border: 8px solid transparent;
    }
    .schedule-header::before {
      left: 0;
      border-top-color: #015DA9;
    }
    .schedule-header::after {
      right: 0;
      border-top-color: #015DA9;
    }

/* 일정 날짜 스타일 */
.schedule-date {
  background: #eaf4ff;
  color: #015DA9;
  display: inline-block;
  padding: 4px 12px;
  font-size: 0.95rem;
  font-style: italic;
  border-radius: 12px;
  margin: 0 auto 20px;
  text-align: center;
    display: block;          /* block 처리 */
  width: max-content;      /* 텍스트 너비만큼 */
  margin: 0 auto 20px;     /* 가운데 정렬 + 아래 여백 */

}

    .schedule-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .schedule-list li {
      font-size: 0.95rem;
      padding: 6px 0;
      border-bottom: 1px solid #e0e0e0;
    }

    .schedule-list li .time {
      font-weight: bold;
      margin-right: 6px;
    }
    .schedule-list li:last-child {
      border-bottom: none;
    }
    /* 메뉴 버튼 그리드 */
    .grid {
      display: grid;
      grid-template-columns: 1fr;  /* 한 열만 */
      gap: 20px;
      margin-bottom: 40px;
    }
    .card {
      border: 1px solid #ddd;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      font-size: 1rem;
      font-weight: bold;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      transition: background 0.2s;
      background: #fff;
    }
    .card:hover {
      background: #f3f3f3;
    }
    .card a {
      color: #333;
      text-decoration: none;
      display: block;
    }

    /* 카테고리 스타일 */
    .category {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 16px;
      position: relative;
      background: #fff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      margin-bottom: 40px;
    }

    .category-title {
      position: absolute;
      top: -10px;
      left: 50%;
      transform: translateX(-50%);
      background: #fff;
      padding: 0 6px;
      font-size: 0.85rem;
      color: #666;
    }

    .category-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }

    .card.small {
      padding: 12px;
      font-size: 0.9rem;
    }

/* 이재명 버튼 스타일 */
.vision-button {
  background: linear-gradient(to right, #ff3366, #0000cc);
  color: white;
  padding: 5px 5px;
  font-weight: bold;
  border: none;  /* 테두리 제거 */
  border-radius: 12px;
  cursor: pointer;
  transition: background 0.7s;
    font-size: 3rem;

}

.vision-button:hover {
  background: linear-gradient(to right, #cc0033, #0000ff);
}
/* 카테고리 박스 – 같은 계열 진한 그라데이션 */
#visionCategory {
  background: linear-gradient(to right, #ff3366, #0000cc);
  color: #fff;
  border: none;
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

#visionCategory .category-title {
  color: white;  /* 제목 글씨는 흰색 */
  font-weight: bold;  /* 글씨 굵게 */
}

#visionCategory .card small a {
  color: white;  /* 버튼 글씨 흰색 */
  font-weight: bold;  /* 글씨 굵게 */
}

#visionCategory .card:hover {
  background: #f3f3f3;
}

.dynamic-button-wrapper {
  text-align: center;
  margin-bottom: 20px;
}.dynamic-button-wrapper {
  text-align: center;
  margin-bottom: 20px;
  max-width: 90vw;
  margin-left: auto;
  margin-right: auto;
}


.dynamic-gradient-button {
  display: inline-block;
  padding: 5px 5px;
  font-size: clamp(1rem, 4vw, 2.5rem); /* 화면 너비에 따라 유동적 */
  font-weight: bold;
  text-align: center;
  color: #fff;
  text-decoration: none;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  white-space: nowrap;              /* 무조건 한 줄 유지 */
  overflow: hidden;
  text-overflow: ellipsis;
  background: linear-gradient(270deg, #00A6AC, #A50B5E, #094072,  #01378C, #D31A38, #2C4198, #730039, #D34DD2, #57A0D3, #008081, #00A6AC);
  background-size: 2000% 2000%;
  animation: smoothGradient 14s ease infinite;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  max-width: 100%; /* 혹시 레이아웃 깨질 경우 대비 */
}

.subtext {
  margin-top: 6px;
  font-size: 0.9rem;
  color: #555;
}

@keyframes smoothGradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}



    /* 푸터 */
    footer {
      margin-top: 40px;
      text-align: center;
    }
    footer img {
      width: 150px;
      height: auto;
    }



  </style>
</head>
<body>
  <h1>
    <span class="heart">♥♥♥</span>대구시당 알리미<span class="heart">♥♥♥</span>
  </h1>

  <!-- 일정 부분: 여기만 수정하면 돼 -->
<!-- ===== 여기서부터 API 호출 스크립트 ===== -->




<!-- ★ 일정 섹션 – 초기 내용은 있어도 되고, 위처럼 비워 둬도 됨 ★ -->
<div class="schedule">
  <div class="schedule-header">&lt; 대구시당 1호차 &gt;</div>
  <div class="schedule-date">로딩 중…</div>
  <ul class="schedule-list">
    <!-- JS가 여기를 덮어쓴다 -->
  </ul>
</div>


  <!-- 기존 메뉴 버튼 -->
  <div class="grid">
    <div class="card">
      <a href="http://bluenew.life/policy" target="_blank">
        이재명후보 정책안내 페이지
      </a>
    </div>
    <div class="card">
      <a href="http://bluenew.life/card" target="_blank">
        #이재명 말모이
      </a>
    </div>

  <a class="dynamic-gradient-button" href="http://bluenew.life/dg9" target="_blank">
대구 9개 구·군 세부공약   </a>

    <!-- 이재명 비전 버튼 -->
      <button class="vision-button" id="visionButton">이재명의 대구 비전</button>
  </div>

  <!-- 카테고리 박스 -->
  <div class="category" id="visionCategory" style="display: none;">
    <div class="category-grid">
      <div class="card small">
        <a href="http://bluenew.life/ai" target="_blank">AI 산업으로 다시 도약하는 대구</a>
      </div>
      <div class="card small">
        <a href="http://bluenew.life/sevenvisions" target="_blank">대구경북에 제시하는 7가지 공약</a>
      </div>
      <div class="card small">
        <a href="http://bluenew.life/thisdaegu" target="_blank">이런 대구를 만들겠습니다!</a>
      </div>
    </div>
  </div>
    <div class="card">
      <a href="http://bluenew.life/compare" target="_blank">
        19대 / 20대 대선 득표율 비교
      </a>
    </div>
  <br>
      <!-- 카테고리 박스 시작 -->
  <div class="category">
    <div class="category-title">자세히 알아보기</div>
    <div class="category-grid">
      <div class="card small">
        <a href="http://bluenew.life/right" target="_blank">맞는 말 시리즈</a>
      </div>      

      <div class="card small">
        <a href="http://bluenew.life/lies" target="_blank">거짓말 시리즈</a>
      </div>

      <div class="card small">
        <a href="http://bluenew.life/truth" target="_blank">대구 팩트체크</a>
      </div>
    </div>
  </div>
  <!-- 카테고리 박스 끝 -->

  <footer>
    <a href="https://theminjoodaegu.co.kr/" target="_blank">
      <img src="150_png_dgsd_logo.png" alt="더불어민주당 대구광역시당 로고">
    </a>
  </footer>

  <script>
    document.getElementById('visionButton').addEventListener('click', function() {
      // 버튼 클릭 시 버튼 숨기고 카테고리 보여주기
      document.getElementById('visionCategory').style.display = 'block';
      document.getElementById('visionButton').style.display = 'none';
    });
  </script>

   <script>
(async () => {
  const API_URL = "https://api.bluenew.life/api/schedule";

  try {
    const res   = await fetch(API_URL, { cache: "no-store" });
    if (!res.ok) throw new Error("status " + res.status);
    const data  = await res.json();

    // 제목·날짜
    document.querySelector(".schedule-header").innerHTML =
      `&lt; ${data.title} &gt;`;
    document.querySelector(".schedule-date").textContent =
      formatDate(data.date);

    // 리스트
    const ul = document.querySelector(".schedule-list");
    ul.innerHTML = "";
    data.items.forEach(({ time, text }) => {
      const li = document.createElement("li");
      li.innerHTML = `<span class="time">${time}</span>${text}`;
      ul.appendChild(li);
    });
  } catch (err) {
    console.error(err);
  }

  function formatDate(str) {
    if (!str) return "";
    const dt   = new Date(str + "T00:00:00");
    const yoil = "일월화수목금토"[dt.getDay()];
    return `${dt.getMonth() + 1}월 ${dt.getDate()}일(${yoil}) 유세 일정`;
  }
})();
</script>
</body>
</html>
